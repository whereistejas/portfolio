@import 'tailwindcss';

@plugin '@tailwindcss/typography';

@font-face {
	font-family: InterVariable;
	font-style: normal;
	font-weight: 100 900;
	font-display: block;
	src: url('/InterVariable.woff2') format('woff2');
}
@font-face {
	font-family: InterVariable;
	font-style: italic;
	font-weight: 100 900;
	font-display: block;
	src: url('/InterVariable-Italic.woff2') format('woff2');
}

@theme {
	--font-sans: InterVariable, sans-serif;
	--font-serif: InterVariable, sans-serif;
	--default-font-feature-settings: 'calt', 'tnum', 'ss03';
	--spacing: 1rem;

	--font-weight-normal: 380;
	--text-lg: 1.1rem;
}

@layer components {
	body {
		@apply flex h-[100dvh] flex-col items-center justify-between bg-yellow-50 text-slate-950 dark:bg-neutral-900 dark:text-slate-50;
	}

	header,
	footer {
		@apply left-0 flex w-full flex-row justify-between px-1 text-xl font-semibold md:w-48 md:max-w-full md:text-3xl;
	}
	header {
		@apply top-0 pt-1;
	}
	footer {
		@apply bottom-0 pb-1;
	}

	main {
		@apply flex w-full flex-col px-1 text-lg md:w-48 md:max-w-full md:text-xl;
	}

	div.blog_main {
		@apply flex flex-col gap-1.5 self-start first:pt-1.5 md:gap-2 md:first:pt-2;
	}

	div.info_main {
		@apply flex h-full flex-col gap-1.5 first:pt-1.5 last:pb-1.5 md:gap-2 md:first:pt-0;
	}

	div.archive_main {
		@apply flex w-full max-w-full flex-col gap-1.5 self-start first:pt-1.5 md:gap-2 md:first:pt-2;
		div.items {
			@apply flex w-full max-w-full min-w-0 flex-col gap-1 md:gap-1.5;

			div.item {
				@apply flex flex-col gap-[0.25rem];

				div.links {
					@apply w-full gap-[0.125rem] md:flex md:flex-row;
					a.title {
						@apply font-medium uppercase md:overflow-hidden md:text-ellipsis md:whitespace-nowrap;
					}
					a.readwise {
						@apply shrink-0 text-base text-yellow-700 dark:text-yellow-600;
					}
				}

				p.summary {
					@apply text-justify text-base leading-snug font-normal hyphens-auto;
					/* Hide summary by default with smooth transition */
					max-height: 0;
					opacity: 0;
					overflow: hidden;
					transition:
						max-height 0.3s ease-in-out,
						opacity 0.3s ease-in-out;

					-webkit-hyphenate-limit-before: 4;
					-webkit-hyphenate-limit-after: 5;
					-ms-hyphenate-limit-chars: 10 4 5;
					hyphenate-limit-chars: 10 4 5;
				}

				/* Show summary when hovering over the title with smooth animation */
				&:hover p.summary {
					max-height: 2000px;
					opacity: 1;
				}

				div.tags {
					@apply flex flex-wrap gap-0.5;

					span.tag {
						@apply text-xs uppercase;
					}

					span.tag::before {
						content: '#';
						@apply mr-0;
					}
				}
			}
		}
	}

	a {
		@apply z-[1] text-neutral-950 transition-colors duration-200 ease-in hover:text-neutral-500 dark:text-neutral-50 hover:dark:text-neutral-400;
	}
}

@media (prefers-reduced-motion: no-preference) {
	html {
		scroll-behavior: smooth;
	}
}

html {
	-ms-overflow-style: none; /* for Internet Explorer, Edge */
	scrollbar-width: none; /* for Firefox */
}
*::-webkit-scrollbar {
	display: none; /* for Chrome, Safari, and Opera */
}

.footnotes {
	hr {
		@apply my-2 border-neutral-500 dark:border-neutral-400;
	}

	li,
	p {
		@apply text-sm;
	}
}
